<!doctype html>
<html>
  <head>
      <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
          <title>Random Game</title>
            <base href="http://localhost:5000" />
              <link rel="shortcut icon" href="static/favicon.ico">
              <link rel="stylesheet" href="static/css/chessboard.css" />
  </head>
  <body>

    <p>Example Random Game
    </p>

    <div id="board" style="width: 400px"></div>

    <script src="static/js/json3.min.js"></script>
    <script src="static/js/jquery-1.10.1.min.js"></script>
    <script src="static/js/chessboard.js"></script>
    <script src="static/js/chess.js"></script>
  <script>
    var init = function() {
      var board,
          game = new Chess();

      var makeRandomMove = function() {
          var possibleMoves = game.moves();

          // exit if the game is over
          if (game.game_over() === true ||
                game.in_draw() === true ||
                possibleMoves.length === 0) return;

          var randomIndex = Math.floor(Math.random() * (possibleMoves.length+1));
          game.move(possibleMoves[randomIndex]);
          board.position(game.fen());

          window.setTimeout(makeRandomMove, 300);
      };

      board = ChessBoard('board', 'start');

      window.setTimeout(makeRandomMove, 300);

    }; // end init()
$(document).ready(init);
  </script>
  </body>
</html>
